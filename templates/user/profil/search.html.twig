{% extends 'base.html.twig' %}

{% block title %}Rechercher un utilisateur{% endblock %}

{% block body %}
    <main class="flex-1 py-10 px-5 sm:px-10">
        <section>
            <h1 class="text-lg font-medium text-black">Rechercher un utilisateur</h1>

            <form method="get" action="{{ path('user_search') }}" class="flex items-center mb-6 mt-4">
                <input
                    type="text"
                    name="q"
                    value="{{ keyword|default('') }}"
                    placeholder="Tapez un mot-clé..."
                    class="border rounded-md px-4 py-2 w-full"
                >
                <button type="submit" class="ml-2 bg-blue-500 text-white px-4 py-2 rounded-md">
                    Rechercher
                </button>
            </form>

            {% if keyword %}
                <h2 class="text-md font-medium text-gray-700">Résultats pour "{{ keyword }}"</h2>
                {% if users is not empty %}
                    {% for user in users %}
                        <a href="{{ path('user_profil', {'id': user.id}) }}">
                            {{user.username}}
                        </a>
                    {% endfor %}
                {% else %}
                    <p class="text-gray-500">Aucun utilisateur trouvé pour "{{ keyword }}".</p>
                {% endif %}
            {% endif %}
        </section>
    </main>
{% endblock %}
