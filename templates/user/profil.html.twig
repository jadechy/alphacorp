{% extends 'base.html.twig' %}


{% block title %}Profile
{% endblock %}
{% block body %}
	<div>
		<!-- Section Profil -->
		<section class="flex gap-6">
			<img src={{ asset('img/1.png') }} class="w-80 object-cover rounded-sm" alt="Profile Picture"/>
			<div class="flex justify-between w-full">
				<div class="flex flex-col justify-between">
					<div>
						<p class="font-bold">{{user.username}}</p>
						<p class="text-neutral-400">{{user.email}}</p>
						<p class="text-neutral-400">21/09/2003</p>
					</div>
					<a href="{{ path('app_user_edit' ) }}" class="btn">Modifier</a>

				</div>
				<div class="rounded-full bg-fuchsia-500 h-fit px-3 py-1">
					<p>{{user.xp ? user.xp: 0}}
						XP</p>
				</div>
			</div>

		</section>


		<pre>
	{{ dump(user) }}
</pre>

		<!-- Section Bromances -->
		<section class="mt-20 flex justify-between">
			<h2 class="text-xl font-semibold">Mes bromances
				<span class="text-sm text-neutral-400">-
					{{user.bromancesAlpha|length}}</span>
			</h2>
			<a href={{path("app_bromance_homepage")}} class="btn-secondary">Toutes mes bromances</a>

		</section>

		<!-- Section Events Author -->
		<section class="mt-20 ">
			<h2 class="text-xl font-semibold">Mes Events crées
				<span class="text-sm text-neutral-400">-
					{{ user.authorEvents|length }}</span>

			</h2>
			<div class="flex gap-8 pt-8">
				{% for event in user.authorEvents|slice(0, 4) %}

					<a href={{path("app_event_show", {id: event.id} )}} class=" w-60">
						{% include "parts/components/card_col.html.twig" with {"title": event.title, "height": 40} %}
					</a>
				{% else %}
					<p>Aucun article trouvé.</p>
				{% endfor %}
				{% if user.authorEvents|length > 4 %}
					<a href={{path("app_event_author")}} class="w-40 border border-neutral-300 rounded-md p-3 flex items-center hover:scale-105 transition font-bold text-center">
						<p>Voir tous mes évènements crées</p>
					</a>
				{% endif %}


			</div>
		</section>

		<!-- Section Events Participation -->
		<section class="mt-20 ">
			<h2 class="text-xl font-semibold">Ma participation aux events
				<span class="text-sm text-neutral-400">-
					{{ user.events|length }}</span>
			</h2>
			<div class="flex gap-8 pt-8">
				{% for event in user.events %}
					<a href={{path("app_event_show", {id: event.id} )}} class=" w-60">
						{% include "parts/components/card_col.html.twig" with {"title": event.title, "height": 40} %}
					</a>
				{% else %}
					<p>Aucune participation trouvée.</p>
				{% endfor %}
				{% if user.events|length > 4 %}
					<a href={{path("app_event_user_participate")}} class="w-40 border border-neutral-300 rounded-md p-3 flex items-center hover:scale-105 transition font-bold text-center">
						<p>Voir tous les évènements auquels je participe</p>
					</a>
				{% endif %}
			</div>
		</section>


		<!-- Section Forum -->
		<section class="mt-20 ">
			<h2 class="text-xl font-semibold">Mes articles
				<span class="text-sm text-neutral-400">-
					{{ user.topics|length }}</span>
			</h2>
			<div class="flex gap-8 pt-8 flex-wrap">
				{% for topic in user.topics %}
					{% include "macro/topic_card.html.twig" with {"title": topic.title, "height": 50} %}
				{% else %}
					<p>Aucun article trouvé.</p>
				{% endfor %}
				{% if user.topics|length > 5 %}
					<a href={{path("app_forum_author")}} class="w-40 border border-neutral-300 rounded-md p-3 flex items-center hover:scale-105 transition font-bold text-center">
						<p>Voir tous mes articles</p>
					</a>
				{% endif %}

			</div>
		</section>
	</div>
{% endblock %}
